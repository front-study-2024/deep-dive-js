# Symbol
Symbol은 ES6에서 도입된 데이터 타입으로, 변경 불가능한 원시 타입의 값이다. 다른 값과 중복되지 않는 유일무이한 값이며 이름의 충돌이 없는 유일한 프로퍼티 키를 만들기 위해 사용한다.

## Symbol 값의 생성
- Symbol 값은 `Symbol` 함수를 호출하는 것으로만 생성할 수 있다(`new` 연산자 사용 X). 생성된 Symbol 값은 외부로 노출되지 않아 확인할 수 없으며 **다른 값과 절대 중복되지 않는 유일무이한 값**이다.
- `Symbol` 함수에 문자열을 인수로 전달할 수 있지만, 값의 생성에 영향을 미치진 않고 Symbol 값에 대한 설명으로 디버깅 용도에만 사용한다. 같은 문자열을 전달하더라도 다른 Symbol 값이 생성된다.
- 래퍼 객체에 의해 `description`과 `toString` 등의 프로퍼티를 호출할 수 있다.
- 문자열이나 숫자로 암묵적 타입 변환이 발생하지 않지만, 불리언으로는 암묵적 타입 변환이 수행된다.
- `Symbol.for` 메서드는 인수로 전달 받은 문자열을 키로 사용하여 키와 심벌 값의 쌍이 저장되어 있는 전역 심벌 레지스트리에서 해당 키와 일치하는 심벌 값을 검색한다. 성공할 경우 검색된 Symbol 값을, 실패할 경우 해당 키로 전역 심벌 레지스트리에 저장한 새로운 Symbol 값을 반환한다.
```javascript
const s1 = Symbol.for('mySymbol');
const s2 = Symbol.for('mySymbol');

console.log(s1 === s2); // true
```
- `Symbol` 함수는 호출될 때마다 유일무이한 심벌 값을 생성하고 전역 심벌 레지스트리에 등록되어 관리되지 않는다. 따라서 `Symbol.for` 메서드를 사용해야 전역 심벌 레지스트리를 통해 공유할 수 있다.
- `Symbol.keyFor` 메서드는 전역 심벌 레지스트리에 저장된 Symbol 값의 키를 반환한다. 
```javascript
const s1 = Symbol.for('mySymbol');
Symbol.keyFor(s1); // my Symbol
```

## Symbol과 상수
- 값에는 특별한 의미가 없고 상수 이름 자체에 의미가 있는 경우에 사용할 수 있다. 값에 변경/중복될 가능성이 없는 유일무이한 값을 사용하면 좋다. 

## Symbol과 프로퍼티 키
- 객체의 프로퍼티 키는 빈 문자열을 포함하는 모든 문자열 또는 Symbol 값으로 만들 수 있으며 동적으로 생성할 수 있다. 
- Symbol 값을 프로퍼티 키로 사용하려면 프로퍼티 키로 사용할 Symbol 값에 대괄호를 사용해야 한다. 접근시에도 마찬가지로 대괄호를 사용해야 한다.
- **Symbol은 유일무이한 값이므로 다른 프로퍼티 키와 절대 충돌하지 않으며, 미래에 추가될 어떤 프로퍼티 키와도 충돌하지 않는다.**
```javascript
const obj = { [Symbol.for('a')]: 1 };
obj[Symbol.for('a')];
```

## Symbol과 프로퍼티 은닉
- 심벌값을 프로퍼티 키로 사용하여 생성한 프로퍼티는 `for ... in`, `Object.keys`, `Object.getOwnPropertyNames` 메서드로 찾을 수 없다. 이처럼 심벌 값을 프로퍼티 키로 사용하여 프로퍼티를 생성하면 외부에 노출할 필요가 없는 프로퍼티를 은닉할 수 있다.
- 하지만 `Object.getOwnPropertySymbols` 메서드를 사용하면 Symbol 값을 프로퍼티 키로 사용하여 생성한 프로퍼티를 찾을 수 있다.  

## Symbol과 표준 빌트인 객체의 확장
- 일반적으로 표준 빌트인 객체에 사용자 정의 메서드를 직접 추가하여 확장하는 것은 권장하지 않느다. 개발자가 직접 추가한 메서드와 미래에 표준 사양으로 추가될 메서드의 이름이 중복될 수 있기 때문이다. 
- 하지만 빌트인 객체를 확장할 때 Symbol값을 사용한다면 충돌이 일어나지 않으면서 빌트인 객체를 확장할 수 있다. 

## Well-known Symbol
- 자바스크립트가 기본적으로 제공하는 빌트인 심벌 값이 있다. 이는 `Symbol` 함수의 프로퍼티에 할당되어 있다. 이 빌트인 심벌 값을 ECMAScript 사양에서 Well-known Symbol이라 부르며 자바스크립트 엔진 내부 알고리즘에 사용된다. 
- 예를 들어, 순회 가능한 빌트인 이터러블은 Well-known Symbol 중 하나인 `Symbol.iterator`를 키로 갖는 메서드를 가지며, `Symbol.iterator` 메서드를 호출하면 이터레이터를 반환하도록 규정되어 있다.
